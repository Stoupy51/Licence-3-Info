
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <fcntl.h>

#define N_ADDRESS 8

void createTable(int fd, off_t pos) {
	size_t size = sizeof(off_t) * N_ADDRESS;
	off_t* adresses = malloc(size);
	if (adresses == NULL) {
		perror("Erreur lors de l'allocation mémoire de la table d'adresses");
		exit(EXIT_FAILURE);
	}
	memset(adresses, (off_t)-1, size);
	if (write(fd, adresses, size) == -1) {
		perror("Erreur lors de l'écriture d'une nouvelle table dans le fichier");
		exit(EXIT_FAILURE);
	}
	free(adresses);
}

void deleteTable(int fd, off_t pos) {
	size_t size = sizeof(off_t) * N_ADDRESS;
	off_t* adresses = malloc(size);
	if (adresses == NULL) {
		perror("Erreur lors de l'allocation mémoire de la table d'adresses");
		exit(EXIT_FAILURE);
	}
	memset(adresses, NULL, size);
	if (write(fd, adresses, size) == -1) {
		perror("Erreur lors de la suppression de la table dans le fichier");
		exit(EXIT_FAILURE);
	}
	free(adresses);
}

int main(int argc, char *argv[]) {
	if (argc != 2) {
		fprintf(stderr, "Usage: %s <file>\n", argv[0]);
		exit(EXIT_FAILURE);
	}

	int* vides;
	char* buffer;

	printf("\n");
	return EXIT_SUCCESS;
}

